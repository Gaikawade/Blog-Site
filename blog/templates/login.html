{% extends 'layout.html' %}

{% block contents %}

    <h3>Login Page</h3>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul class="flashes">
              {% for category, message in messages %}
                  <div class="alert alert-{{category}}" role="alert">
                      <li>{{message}}</li>
                  </div>
              {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <form action="" method="post">
      {{ form.csrf_token }}

        <div class="form-floating">
          {{ form.email() }} 
          {{ form.email.label }} <br />
            {% if form.email.errors %}
                {% for error in form.email.errors %}
                  <div class="text-danger"> {{ error }} </div> <br />
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-floating">
          {{ form.password() }} 
          {{ form.password.label }} <br />
            {% if form.password.errors %}
                {% for error in form.password.errors %}
                  <div class="text-danger"> {{ error }} </div> <br />
                {% endfor %}
            {% endif %}
        </div>

        <div id="success">{{ form.submit() }}</div>
        
    </form>

{% endblock contents %}
