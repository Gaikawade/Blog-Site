{% extends 'layout.html' %}

{% block contents %}
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
          <ul class="flashes">
            {% for category, message in messages %}
                <div class="alert alert-{{category}}" role="alert">
                    <li>{{message}}</li>
                </div>
            {% endfor %}
          </ul>
      {% endif %}
    {% endwith %}

    <h3>Add Article</h3>

    <form action="" method="post">
    {{ form.csrf_token }}

    <div class="form-floating">
      {{ form.title() }} 
      {{ form.title.label }} <br />
        {% if form.title.errors %}
            {% for error in form.title.errors %}
              <div class="text-danger"> {{ error }} </div> <br />
            {% endfor %}
        {% endif %}
    </div>

    <div class="form-floating">
      {{ form.content() }} 
      {{ form.content.label }} <br />
        {% if form.content.errors %}
            {% for error in form.content.errors %}
              <div class="text-danger"> {{ error }} </div> <br />
            {% endfor %}
        {% endif %}
    </div>

    <div id="success">{{ form.submit() }}</div>

    </form>
{% endblock contents %}