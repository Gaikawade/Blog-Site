{% extends 'layout.html' %}

{% block contents %}

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
      <ul class="flashes">
        {% for category, message in messages %}
            <div class="alert alert-{{category}}" role="alert">
                <li>{{message}}</li>
            </div>
        {% endfor %}
      </ul>
  {% endif %}
  {% endwith %}

  <h3>Account Details</h3>

  <form action="" method="post">
    {{ form.csrf_token }}
  
      <div class="form-floating">
        {{ form.name() }} 
        {{ form.name.label }} <br />
          {% if form.name.errors %}
              {% for error in form.name.errors %}
                <div class="text-danger"> {{ error }} </div> <br />
              {% endfor %}
          {% endif %}
      </div>

      <div class="form-floating">
        {{ form.email() }} 
        {{ form.email.label }} <br />
          {% if form.email.errors %}
              {% for error in form.email.errors %}
                <div class="text-danger"> {{ error }} </div> <br />
              {% endfor %}
          {% endif %}
      </div>

      <div id="success"></div>
      {{ form.submit() }}
  </form>
{% endblock contents %}